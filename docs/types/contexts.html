<!DOCTYPE HTML>
<html lang="en" >
    <head><meta charset="UTF-8">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"><title>Monadic Contexts · Jekyll Gitbook</title><meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="description" content="Build Jekyll site with the GitBook style.
"><meta name="generator" content="Jekyll (using style of GitBook 3.2.3)"><meta name="author" content="HE Tao"><link rel="stylesheet" href="/gitbook/style.css">
<link rel="stylesheet" href="/gitbook/gitbook-plugin-fontsettings/website.css">
<!-- <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css"> -->

<link rel="stylesheet" href="/gitbook/rouge-highlight-colorful.css">

<meta name="HandheldFriendly" content="true"/>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="/gitbook/images/apple-touch-icon-precomposed-152.png">
<link rel="shortcut icon" href="/gitbook/images/favicon.ico" type="image/x-icon">
            <link rel="prev" href="/" />
        

        
    </head>
    <body>
        <div class="book"><div class="book-summary">
    <div id="book-search-input" role="search">
        <input type="text" placeholder="Type to search" />
    </div>
    <nav role="navigation">
        <ul class="summary">
            
            <li class="chapter" data-level="1.1" data-path="">
            
                <a href="">
                    Jekyll Gitbook
                </a>
            </li>

            <li class="divider"></li>

            

            
                
                <li class="chapter" data-level="1.1" data-path="/jekyll/2019-04-27-why.html">
                
                    <a href="/jekyll/2019-04-27-why.html">
                        Why Jekyll with GitBook
                    </a>
                </li>
            
                
                <li class="chapter" data-level="1.1" data-path="/jekyll/2019-04-28-howto.html">
                
                    <a href="/jekyll/2019-04-28-howto.html">
                        How to Get Started
                    </a>
                </li>
            
                
                <li class="chapter" data-level="1.1" data-path="/jekyll/2019-04-28-license.html">
                
                    <a href="/jekyll/2019-04-28-license.html">
                        License
                    </a>
                </li>
            

            <li class="divider"></li>

            <li>
                <a href="https://github.com/sighingnow/jekyll-gitbook/fork" target="blank" class="gitbook-link">
                    Fork it Now!
                </a>
            </li>
        </ul>
    </nav>
</div><div class="book-body"><div class="body-inner">
    <div class="book-header" role="navigation">
        <!-- Title -->
        <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i>
            
                <a href="." >Monadic Contexts</a>
            
        </h1>
    </div>
    <div class="page-wrapper" tabindex="-1" role="main">
        <div class="page-inner">
            <div id="book-search-results">
                <div class="search-noresults">
                    <section class="normal markdown-section">

                        
                            <h1 id="">Monadic Contexts</h1>
                        

                        <h1 id="monadic-contexts">Monadic Contexts</h1>
<p>Coming from a Haskell background, we have found that Monads provide a great
abstraction with which to reason about program behaviour, but they have some
severe usability issues. The main one of these is the lack of automatic lifting,
requiring users to explicitly lift computations through their monad transformer
stack.</p>

<p>For a language as focused on usability as Enso is this really isn’t feasible. To
that end, we have created the notion of a ‘Monadic Context’, which is a monad
transformer based on Supermonads (see
<a href="./references.md#monadic-contexts">references</a>). These have special support in
the compiler, and hence can be automatically lifted to aid usability.</p>

<blockquote>
  <p>The actionables for this section are:</p>

  <ul>
    <li>Think about subsumption for contexts.</li>
    <li>Contexts (e.g. IO) are represented using <code class="highlighter-rouge">T in IO</code>. Multiple contexts are
combined as standard <code class="highlighter-rouge">(IO | State Int)</code>, and it is written the same in arg
position.</li>
    <li>Do we definitely want to use monads, or can we use arrows or other
interpreter-based effects systems? These may aid with parallelism analysis.</li>
  </ul>
</blockquote>

<!-- MarkdownTOC levels="2,3" autolink="true" -->

<ul>
  <li><a href="#context-syntax">Context Syntax</a></li>
  <li><a href="#monadic-bind">Monadic Bind</a></li>
  <li><a href="#context-definitions">Context Definitions</a></li>
  <li><a href="#context-lifting">Context Lifting</a></li>
</ul>

<!-- /MarkdownTOC -->

<h2 id="context-syntax">Context Syntax</h2>
<p>There are three main notes about the syntax of contexts:</p>

<ol>
  <li>Monadic contexts are defined using the <code class="highlighter-rouge">in</code> keyword (e.g. <code class="highlighter-rouge">Int in IO</code>).</li>
  <li>We have a symbol <code class="highlighter-rouge">!</code>, which is short-hand for putting something into the
<code class="highlighter-rouge">Exception</code> monadic context. This is related to broken values.</li>
  <li>Contexts can be combined by using the standard typeset operators, or nested
through repeated uses of <code class="highlighter-rouge">in</code>.</li>
</ol>

<h2 id="monadic-bind">Monadic Bind</h2>
<p>It is also important to note that Enso has no equivalent to <code class="highlighter-rouge">&lt;-</code> in Haskell.
Instead, pure computations are implicitly placed in the <code class="highlighter-rouge">Pure</code> monadic context,
and <code class="highlighter-rouge">=</code> acts to ‘peel off’ the outermost layer of contexts. As such, this means
that <code class="highlighter-rouge">=</code> <em>always</em> acts as <code class="highlighter-rouge">bind</code>, greatly simplifying how the type-checker has
to work.</p>

<h2 id="context-definitions">Context Definitions</h2>
<p>Contexts can be defined by users.</p>

<blockquote>
  <p>The actionables for this section are:</p>

  <ul>
    <li>How, what, when and why?</li>
  </ul>
</blockquote>

<h2 id="context-lifting">Context Lifting</h2>
<blockquote>
  <p>The actionables for this section are:</p>

  <ul>
    <li>Specify and explain how automated lifting of monadic contexts works.</li>
  </ul>
</blockquote>

                    </section>
                </div>

                 <!--<div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>-->
            </div>
        </div>
    </div>
</div>

                    <a href="/" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Jekyll Gitbook">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
            </div>

            <script>
            var gitbook = gitbook || [];
            gitbook.push(function() {
                gitbook.page.hasChanged({
    "page": {
        "title": "Introduction",
        "level": "1.1",
        "depth": 1,
        
        "dir": "ltr"
    },    "config": {
        "plugins": ["fontsettings", "highlight", "livereload", "lunr", "search", "sharing", "theme-default", "livereload"],
        "styles": {
            "ebook": "styles/ebook.css",
            "epub": "styles/epub.css",
            "mobi": "styles/mobi.css",
            "pdf": "styles/pdf.css",
            "print": "styles/print.css",
            "website": "styles/website.css"
        },
        "pluginsConfig": {
            "fontsettings": {
                "family": "sans",
                "size": 2,
                "theme": "white"
            },
            "highlight": {},
            "livereload": {},
            "lunr": {
                "ignoreSpecialCharacters": false,
                "maxIndexSize": 1000000
            },
            "search": {},
            "sharing": {
                "all": ["facebook", "google", "twitter", "weibo", "instapaper"],
                "facebook": true,
                "google": false,
                "instapaper": false,
                "twitter": true,
                "vk": false,
                "weibo": false
            },
            "theme-default": {
                "showLevel": false,
                "styles": {
                    "ebook": "styles/ebook.css",
                    "epub": "styles/epub.css",
                    "mobi": "styles/mobi.css",
                    "pdf": "styles/pdf.css",
                    "print": "styles/print.css",
                    "website": "styles/website.css"
                }
            }
        },
        "theme": "default",
        "author": "Tao He",
        "pdf": {
            "pageNumbers": true,
            "fontSize": 12,
            "fontFamily": "Arial",
            "paperSize": "a4",
            "chapterMark": "pagebreak",
            "pageBreaksBefore": "/",
            "margin": {
                "right": 62,
                "left": 62,
                "top": 56,
                "bottom": 56
            }
        },
        "structure": {
            "langs": "LANGS.md",
            "readme": "README.md",
        },
        "variables": {},
        "title": "Jekyll Gitbook",
        "language": "en",
        "gitbook": "*"
    },
    "file": {
        "path": "docs/types/contexts.md",
        "mtime": "",
        "type": "markdown"
    },
    "gitbook": {
        "version": "3.2.3",
        "time": "2020-05-15 16:44:18 +0000"
    },
    "basePath": "",
    "book": {
        "language": ""
    }
});
            });
            </script>
        </div><script src="/gitbook/gitbook.js"></script>
<script src="/gitbook/theme.js"></script>

<script src="/gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
<script src="/gitbook/gitbook-plugin-sharing/buttons.js"></script>

<!-- <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
<script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
<script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
<script src="../gitbook/gitbook-plugin-search/search.js"></script> --></body>
</html>